/*!build time : 2014-12-18 5:12:53 PM*/
KISSY.add("kg/xscroll/2.3.1/tap",function(a,b,c){function d(){if(q.length>2){for(var a=[],b=1;b<q.length;b++)a[b-1]=q[b];q=a}}function e(a){if(d(),0==q.length)return!1;var b=a.startTime-q[q.length-1].startTime;return 10>b?!0:!1}function f(){if(d(),1==q.length)return!1;var a=q[1].startTime-q[0].startTime;return p>a?!0:!1}function g(a){if(a.touches.length>1)return void(r=!1);var d=(a.currentTarget,a.target,a.changedTouches[0].clientX),e=a.changedTouches[0].clientY;r={startX:d,startY:e,startTime:Number(new Date),e:a},s&&clearTimeout(s);a.target;s=setTimeout(function(){if(r){var f={};b.mix(f,a),b.mix(f,{type:j,pageX:d,pageY:e,originalEvent:a}),c.dispatchEvent(a.target,j,f)}clearTimeout(s)},o)}function h(a){if(r){var g=a.changedTouches[0].clientX,h=a.changedTouches[0].clientY,j=Math.abs(g-r.startX),o=Math.abs(h-r.startY);if(b.mix(r,{endX:g,endY:h,distance:Math.sqrt(j*j+o*o),timeSpan:Number(Number(new Date)-r.startTime)}),r.timeSpan>m)return void(r=!1);if(r.distance>n)return void(r=!1);if(!e(r)){q.push(r),d();var s={};b.mix(s,a),b.mix(s,{type:i,pageX:g,pageY:h,originalEvent:a});var u=a.target;return c.dispatchEvent(u,i,s),t?(f()&&(b.mix(s,{type:l}),c.dispatchEvent(u,l,s)),clearTimeout(t),void(t=null)):void(t=setTimeout(function(){clearTimeout(t),t=null,b.mix(s,{type:k}),c.dispatchEvent(u,k,s)},p))}}}var i=c.prefix("tap"),j=c.prefix("tapHold"),k=c.prefix("singleTap"),l=c.prefix("doubleTap"),m=250,n=10,o=750,p=200,q=[],r=!1,s=null,t=null;document.addEventListener("touchstart",g),document.addEventListener("touchend",h);var u={TAP:i,TAP_HOLD:j,SINGLE_TAP:k,DOUBLE_TAP:l};return u},{requires:["./util","./event"]});