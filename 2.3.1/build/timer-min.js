/*!build time : 2014-12-18 5:12:53 PM*/
KISSY.add("kg/xscroll/2.3.1/timer",function(a,b,c,d,e){function f(a){var c=this;c.cfg=b.mix({easing:"linear"},a)}for(var g=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)},h=["webkit","moz","ms","o"],i=window.cancelAnimationFrame,j=0;j<h.length;j++)(window[h[j]+"CancelAnimationFrame"]||window[h[j]+"CancelRequestAnimationFrame"])&&(i=window[h[j]+"CancelAnimationFrame"]||window[h[j]+"CancelRequestAnimationFrame"]);return i=i||window.clearTimeout,b.extend(f,c,{reset:function(a){var c=this;b.mix(c.cfg,a),c.isfinished=!1,c.percent=0,delete c._stop},run:function(){var a=this,b=a.cfg.duration;if(!(0>=b||a.isfinished)){a._hasFinishedPercent=a._stop&&a._stop.percent||0,delete a._stop,a.start=Date.now(),a.percent=0;var c=1e3/60/b/4,f=d[a.cfg.easing];a.easingFn=e(f[0],f[1],f[2],f[3],c),a._run()}},_run:function(){var a=this;i(a._raf),a._raf=g(function(){if(a.now=Date.now(),a.duration=a.now-a.start,a.progress=a.easingFn(a.duration/a.cfg.duration),a.percent=a.duration/a.cfg.duration+a._hasFinishedPercent,a.percent>=1||a._stop){a.percent=a._stop&&a._stop.percent?a._stop.percent:1,a.duration=a._stop&&a._stop.duration?a._stop.duration:a.duration;var b={percent:a.percent,duration:a.duration};return a.fire("run",b),a.fire("stop",b),void(a.percent>=1&&(a.isfinished=!0,a.fire("end",{percent:1,duration:a.duration})))}a.fire("run",{percent:a.progress,duration:a.duration}),a._run()})},stop:function(){var a=this;a._stop={percent:a.percent,duration:a.duration,now:a.now},i(a._raf)}}),f},{requires:["./util","./base","./easing","./bezier"]});