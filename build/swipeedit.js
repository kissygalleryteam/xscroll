define('kg/xscroll/2.3.0/swipeedit',["./util","./base"],function(require, exports, module) {var e,t=require("./util"),l=require("./base"),i=t.prefixStyle("transform"),n=t.prefixStyle("transition"),r="xs-plugin-swipeedit-",s=!1,a=20,o=!1,d=!1,f=t.vendor?["-",t.vendor,"-transform"].join(""):"transform",u=1,c=function(e){c.superclass.constructor.call(this),this.userConfig=t.mix({labelSelector:r+"label",renderHook:function(e){e.innerHTML=tpl}},e)};t.extend(c,l,{pluginId:"xlist/plugin/swipeedit",pluginInitializer:function(e){var t=this;t.xlist=e,t._bindEvt()},pluginDestructor:function(){},getTransformX:function(e){if(!e)return"";var t=getComputedStyle(e)[i].match(/[-\d\.*\d*]+/g);return t?t[4]/1:0},_bindEvt:function(){var t=this,l=t.xlist,r=null;l.on("panstart",function(l){d=!1,l.cell&&l.cell.element&&(r=l.cell.element.querySelector(t.userConfig.labelSelector),r&&(e=t.getTransformX(r),r.style[n]="none",Math.abs(e)>0&&!o&&t.slideRight(l)))}),l.on("pan",function(o){if(r)if("left"==o.touch.directionX&&t.slideAllExceptRow(o.cell._row),Math.abs(o.deltaY)<10&&Math.abs(o.deltaX)/Math.abs(o.deltaY)>4&&Math.abs(o.deltaX)>a){s=!0,l.userConfig.lockY=!0;var d=e+o.deltaX+a;if(d>0)return;r.style[n]="none",r.style[i]="translateX("+d+"px)"}else s||(l.userConfig.lockY=!1)}),l.on("panend",function(e){if(r){s=!1;var l=t.getTransformX(r);"left"==e.touch.directionX&&Math.abs(e.velocityX)>u?t.slideLeftHandler(e):Math.abs(l)<t.userConfig.width/2?t.slideRightHandler(e):Math.abs(l)>=t.userConfig.width/2&&t.slideLeftHandler(e)}}),document.body.addEventListener("webkitTransitionEnd",function(e){new RegExp(t.userConfig.labelSelector.replace(/\./,"")).test(e.target.className)&&(o=!1)})},slideLeft:function(e){var t=this,l=xlist.getCellByRowOrCol(e);if(l&&l.element){var r=l.element.querySelector(t.userConfig.labelSelector);r&&r.style&&(r.style[i]="translateX(-"+t.userConfig.width+"px) ",r.style[n]=f+" 0.15s ease",xlist.getData(0,e).data.status="delete")}},slideRight:function(e){var t=this,l=xlist.getCellByRowOrCol(e);if(l&&l.element){var r=l.element.querySelector(t.userConfig.labelSelector);if(r&&r.style){var s=window.getComputedStyle(r)[i].match(/[-\d\.*\d*]+/g),a=s?Math.round(s[4]):0;0!=a&&(r.style[i]="translateX(0)",r.style[n]=f+" 0.5s ease",xlist.getData(0,e).data.status="")}}},slideLeftHandler:function(e){var t=this;o=!0,t.slideLeft(e.cell._row)},slideRightHandler:function(e){var t=this;d=!0,o=!0,t.slideRight(e.cell._row)},slideAllExceptRow:function(e){var t=this;for(var l in xlist.infiniteElementsCache)(e!=xlist.infiniteElementsCache[l]._row||void 0===e)&&t.slideRight(xlist.infiniteElementsCache[l]._row)}}),module.exports=c;});