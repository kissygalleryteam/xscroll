KISSY.add("kg/xscroll/3.0.0/xscroll-master",["./util","./base","./xscroll"],function(e,r,t,o){var n=r("./util"),i=r("./base"),s=r("./xscroll"),l=function(e){l.superclass.constructor.call(this,e),this.init(e)};return n.extend(l,i,{init:function(e){var r=this;r.userConfig=n.mix({selector:".xscroll"},e)},get:function(e){var r=this;if(e)for(var t=0,o=r.__xscrolls.length;o>t;t++)if(r.__xscrolls[t].renderTo.id===e)return r.__xscrolls[t]},getAll:function(){return this.__xscrolls},getElPos:function(){for(var e=this,r=[],t=document.querySelectorAll(e.userConfig.selector),o=0;o<t.length;o++){var n=t[o].querySelector(".xs-content");r.push({el:t[o],containerWidth:n.offsetWidth,containerHeight:n.offsetHeight,width:t[o].offsetWidth,height:t[o].offsetHeight})}return console.log(r[0]),r},render:function(){var e=this,r=function(e,r){if(e&&r)for(var t=0,o=r.length;o>t;t++)if(r[t].renderTo===e)return r[t]},t=document.querySelectorAll(e.userConfig.selector),o=e.getElPos();e.__xscrolls=[];for(var n=0;n<t.length;n++)e.__xscrolls.push(new s({renderTo:t[n],containerWidth:o[n].containerWidth,containerHeight:o[n].containerHeight,width:o[n].width,height:o[n].height}).render());for(var n=0,i=e.__xscrolls.length;i>n;n++)for(var l=e.__xscrolls[n].renderTo.querySelectorAll(e.userConfig.selector),c=0;c<l.length;c++){var h=r(l[c],e.__xscrolls);h&&e.__xscrolls[n].controller&&e.__xscrolls[n].controller.add(h)}e._bindEvt()},_bindEvt:function(){var e=this;window.addEventListener("resize",function(){setTimeout(function(){for(var r=e.getElPos(),t=0,o=e.__xscrolls.length;o>t;t++){var n=e.__xscrolls[t];n.userConfig.containerWidth=r[t].containerWidth,n.userConfig.containerHeight=r[t].containerHeight,n.userConfig.width=r[t].width,n.userConfig.height=r[t].height,n.boundry.refresh({width:n.userConfig.width,height:n.userConfig.height}),n.boundryCheck(0),n.render(),console.log(r[t].containerHeight,n.userConfig.containerHeight)}},0)},e)}}),"object"==typeof o&&o.exports?void(o.exports=l):window.XScrollMaster=l});