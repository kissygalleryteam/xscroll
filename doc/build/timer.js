define('kg/xscroll/2.3.0/timer',["./util","./base","./easing","./bezier"],function(require, exports, module) {function n(n){var i=this;i.cfg=e.mix({easing:"linear"},n)}for(var e=require("./util"),i=require("./base"),t=require("./easing"),r=require("./bezier"),o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)},a=["webkit","moz","ms","o"],s=window.cancelAnimationFrame,u=0;u<a.length;u++)(window[a[u]+"CancelAnimationFrame"]||window[a[u]+"CancelRequestAnimationFrame"])&&(s=window[a[u]+"CancelAnimationFrame"]||window[a[u]+"CancelRequestAnimationFrame"]);s=s||window.clearTimeout,e.extend(n,i,{reset:function(n){var i=this;e.mix(i.cfg,n),i.isfinished=!1,i.percent=0,delete i._stop},run:function(){var n=this,e=n.cfg.duration;if(!(0>=e||n.isfinished)){n._hasFinishedPercent=n._stop&&n._stop.percent||0,delete n._stop,n.start=Date.now(),n.percent=0;var i=1e3/60/e/4,o=t[n.cfg.easing];n.easingFn=r(o[0],o[1],o[2],o[3],i),n._run()}},_run:function(){var n=this;s(n._raf),n._raf=o(function(){if(n.now=Date.now(),n.duration=n.now-n.start,n.progress=n.easingFn(n.duration/n.cfg.duration),n.percent=n.duration/n.cfg.duration+n._hasFinishedPercent,n.percent>=1||n._stop){n.percent=n._stop&&n._stop.percent?n._stop.percent:1,n.duration=n._stop&&n._stop.duration?n._stop.duration:n.duration;var e={percent:n.percent,duration:n.duration};return n.fire("run",e),n.fire("stop",e),void(n.percent>=1&&(n.isfinished=!0,n.fire("end",{percent:1,duration:n.duration})))}n.fire("run",{percent:n.progress,duration:n.duration}),n._run()})},stop:function(){var n=this;n._stop={percent:n.percent,duration:n.duration,now:n.now},s(n._raf)}}),module.exports=n;});