define('kg/xscroll/2.3.0/scrollbar',["./util"],function(require, exports, module) {var t=require("./util"),e=60,o=8,r=t.prefixStyle("transform"),i=t.vendor?["-",t.vendor,"-transform"].join(""):"transform",s=t.prefixStyle("transition"),l=(t.prefixStyle("borderRadius"),function(t){this.userConfig=t,this.init(t.xscroll)});t.mix(l.prototype,{init:function(t){var e=this;e.xscroll=t,e.type=e.userConfig.type,e.isY="y"==e.type?!0:!1;var o=e.xscroll.boundry;e.containerSize=e.isY?e.xscroll.containerHeight+o._xtop+o._xbottom:e.xscroll.containerWidth+o._xright+o._xleft,e.indicateSize=e.isY?e.xscroll.height:e.xscroll.width,e.offset=e.xscroll.getOffset(),e.render(),e._bindEvt()},destroy:function(){var t=this;t.scrollbar&&t.scrollbar.remove(),t.xscroll.detach("scaleanimate",t._update,t),t.xscroll.detach("scrollend",t._update,t),t.xscroll.detach("scrollanimate",t._update,t),!t.xscroll.userConfig.useTransition&&t.xscroll.detach("scroll",t._update,t),delete t},render:function(){var t=this;if(!t.__isRender){t.__isRender=!0;var e=t.xscroll,o=e.userConfig.gpuAcceleration?" translateZ(0) ":"",r=o?i+":"+o+";":"",s=t.isY?"width: 3px;position:absolute;bottom:5px;top:5px;right:2px;z-index:999;overflow:hidden;-webkit-border-radius:2px;-moz-border-radius:2px;-o-border-radius:2px;"+r:"height:3px;position:absolute;left:5px;right:5px;bottom:2px;z-index:999;overflow:hidden;-webkit-border-radius:2px;-moz-border-radius:2px;-o-border-radius:2px;"+r;t.scrollbar=document.createElement("div"),t.scrollbar.style.cssText=s,e.renderTo.appendChild(t.scrollbar);var l=t.isY?"width:100%;":"height:100%;";t.indicate=document.createElement("div"),t.indicate.style.cssText=l+"position:absolute;background:rgba(0,0,0,0.3);-webkit-border-radius:2px;-moz-border-radius:2px;-o-border-radius:2px;",t.scrollbar.appendChild(t.indicate),t._update()}},_update:function(t,e,o){var r=this,t=t||r.xscroll.getOffset(),i=r.computeScrollBar(t),s=r.isY?"height":"width";r.indicate.style[s]=Math.round(i.size)+"px",e&&o?r.scrollTo(i.offset,e,o):r.moveTo(i.offset)},computeScrollBar:function(t){var r=this,i=r.isY?"y":"x",t=Math.round(t&&-t[i]),s=10,l=r.xscroll.boundry;r.containerSize=r.isY?r.xscroll.containerHeight+l._xtop+l._xbottom:r.xscroll.containerWidth+l._xright+l._xleft,r.size=r.isY?r.xscroll.height:r.xscroll.width,r.indicateSize=r.isY?r.xscroll.height-s:r.xscroll.width-s;var n=r.indicateSize,a=r.containerSize,c=a-r.size,d=t/a,x=n*d,u=Math.round(n*r.size/a),f=x*(n-e+u)/n;if(e>u&&(u=e,x=f),0>x)x=Math.abs(t)*u/e>u-o?o-u:t*u/e;else if(x+u>n&&t-c>0){var p=t-a+n+s;x=p*u/e>u-o?n+s-o:n+s-u+p*u/e}r.barOffset=Math.round(x);var h={size:Math.round(u)},p={};return p[i]=r.barOffset,h.offset=p,h},scrollTo:function(t,e,o){var i=this,l=i.xscroll.userConfig.gpuAcceleration?" translateZ(0) ":"";i.indicate.style[r]=i.isY?"translateY("+t.y+"px) "+l:"translateX("+t.x+"px) "+l,i.indicate.style[s]=["all ",e,"s ",o," 0"].join("")},moveTo:function(t){var e=this;e.show();var o=e.xscroll.userConfig.gpuAcceleration?" translateZ(0) ":"";e.indicate.style[r]=e.isY?"translateY("+t.y+"px) "+o:"translateX("+t.x+"px) "+o,e.indicate.style[s]=""},_bindEvt:function(){var t=this;if(!t.__isEvtBind){t.__isEvtBind=!0;var e=t.isY?"y":"x";t.xscroll.userConfig.useTransition?(t.xscroll.on("pan",function(e){t._update(e.offset)}),t.xscroll.on("scrollanimate",function(o){o.zoomType==e&&t._update(o.offset,o.duration,o.easing)}),t.xscroll.on("scaleanimate",function(e){t._update(e.offset)})):t.xscroll.on("scroll",function(e){t._update(e.offset)}),t.xscroll.on("scrollend",function(o){o.zoomType.indexOf(e)>-1&&t._update(o.offset)})}},reset:function(){var t=this;t.offset={x:0,y:0},t._update()},hide:function(){var t=this;t.scrollbar.style.opacity=0,t.scrollbar.style[s]="opacity 0.3s ease-out"},show:function(){var t=this;t.scrollbar.style.opacity=1}}),module.exports=l;});