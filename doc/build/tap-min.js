KISSY.add("kg/xscroll/2.3.2/tap",["./util","./event"],function(t,e,n,i){function r(){if(x.length>2){for(var t=[],e=1;e<x.length;e++)t[e-1]=x[e];x=t}}function a(t){if(r(),0==x.length)return!1;var e=t.startTime-x[x.length-1].startTime;return 10>e?!0:!1}function u(){if(r(),1==x.length)return!1;var t=x[1].startTime-x[0].startTime;return T>t?!0:!1}function o(t){if(t.touches.length>1)return void(E=!1);var e=(t.currentTarget,t.target,t.changedTouches[0].clientX),n=t.changedTouches[0].clientY;E={startX:e,startY:n,startTime:Number(new Date),e:t},Y&&clearTimeout(Y);t.target;Y=setTimeout(function(){if(E){var i={};s.mix(i,t),s.mix(i,{type:p,pageX:e,pageY:n,originalEvent:t}),l.dispatchEvent(t.target,p,i)}clearTimeout(Y)},g)}function c(t){if(E){var e=t.changedTouches[0].clientX,n=t.changedTouches[0].clientY,i=Math.abs(e-E.startX),o=Math.abs(n-E.startY);if(s.mix(E,{endX:e,endY:n,distance:Math.sqrt(i*i+o*o),timeSpan:Number(Number(new Date)-E.startTime)}),E.timeSpan>h)return void(E=!1);if(E.distance>f)return void(E=!1);if(!a(E)){x.push(E),r();var c={};s.mix(c,t),s.mix(c,{type:d,pageX:e,pageY:n,originalEvent:t});var p=t.target;return l.dispatchEvent(p,d,c),b?(u()&&(s.mix(c,{type:v}),l.dispatchEvent(p,v,c)),clearTimeout(b),void(b=null)):void(b=setTimeout(function(){clearTimeout(b),b=null,s.mix(c,{type:m}),l.dispatchEvent(p,m,c)},T))}}}var s=e("./util"),l=e("./event"),d=l.prefix("tap"),p=l.prefix("tapHold"),m=l.prefix("singleTap"),v=l.prefix("doubleTap"),h=250,f=10,g=750,T=200,x=[],E=!1,Y=null,b=null;document.addEventListener("touchstart",o),document.addEventListener("touchend",c);var X={TAP:d,TAP_HOLD:p,SINGLE_TAP:m,DOUBLE_TAP:v};return"object"==typeof i&&i.exports?void(i.exports=X):X});